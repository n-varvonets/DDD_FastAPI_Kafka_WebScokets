DDD —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏–≤–µ–Ω—Ç—ã –∏ —Å—Ä–µ—Ç –∏—Ö –≤ –∫–∞—Ñ–∫—É, –∞ –ø–æ—Ç–æ–º –∏–∑ –∫–∞—Ñ–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏—Ö –≤ –í–µ–±—Å–æ–∫–µ—Ç—ã


–æ–±—â–∏–º –ø–æ–¥—Ö–æ–¥–æ–º –≤ DDD –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ —É–ø—Ä–æ—â–µ–Ω–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã —è–≤–ª—è–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ–¥–∏–∞—Ç–æ—Ä–∞ –≤–º–µ—Å—Ç–µ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏


## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ DDD –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
![img.png](imgs_expl/imgs/img.png)

–í –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –º—ã —Å–ª–µ–¥—É–µ–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Domain-Driven Design (DDD) –¥–ª—è —á–µ—Ç–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∫–æ–¥ —Ç–∞–∫, —á—Ç–æ–±—ã –∫–∞–∂–¥–∞—è —á–∞—Å—Ç—å –æ—Ç–≤–µ—á–∞–ª–∞ –∑–∞ —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å, —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ù–∏–∂–µ –æ–ø–∏—Å–∞–Ω—ã —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏–∫–∏ –∏ –∏—Ö —Ä–æ–ª—å –≤ —Å–∏—Å—Ç–µ–º–µ.
1. **Entities (–°—É—â–Ω–æ—Å—Ç–∏, Domain Logic) ‚Üí –û–ø—Ä–µ–¥–µ–ª—è—é—Ç –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏ –∏ –∏—Ö –ø—Ä–∞–≤–∏–ª–∞.**
2. **Repositories (–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, Infrastructure Logic) ‚Üí –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º.**
3. **Services (–°–µ—Ä–≤–∏—Å—ã, Business Logic) ‚Üí –û–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã—Ö–æ–¥—è—Ç –∑–∞ —Ä–∞–º–∫–∏ –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏.** –°–µ—Ä–≤–∏—Å –Ω–µ –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è; –æ–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ.
4. **Entrypoints (–¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞, Application Logic) ‚Üí –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, API.**

üîπ –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø—Ä–µ–¥–º–µ—Ç–Ω–∞—è –æ–±–ª–∞—Å—Ç—å (Domain)?  
üëâ –°—É—â–Ω–æ—Å—Ç–∏ (Entities) –∏ –∞–≥—Ä–µ–≥–∞—Ç—ã (Aggregates) –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–æ–º–µ–Ω–µ.

‚ú® –ò—Ç–∞–∫, —á—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–µ–¥–º–µ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å –≤ DDD?  
‚úÖ –°—É—â–Ω–æ—Å—Ç–∏ (Entities) ‚Äì –æ—Å–Ω–æ–≤–∞, –Ω–æ –æ–Ω–∏ –Ω–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ.  
‚úÖ –ê–≥—Ä–µ–≥–∞—Ç—ã ‚Äì –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –∏ —É–ø—Ä–∞–≤–ª—è—é—Ç –∏—Ö —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å—é.  
‚úÖ Value Objects ‚Äì –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è –±–µ–∑ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏.  
‚úÖ –î–æ–º–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã ‚Äì –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –ª–æ–≥–∏–∫—É, –≤—ã—Ö–æ–¥—è—â—É—é –∑–∞ —Ä–∞–º–∫–∏ –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏.  
‚úÖ –î–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è ‚Äì —Ñ–∏–∫—Å–∏—Ä—É—é—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ.  
‚úÖ Use Cases ‚Äì —É–ø—Ä–∞–≤–ª—è—é—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –¥–µ–π—Å—Ç–≤–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ.  

- –ù–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–µ–¥–º–µ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å ‚Äì –æ–Ω –ª–∏—à—å —Å–ª—É–∂–∏—Ç —Å–ø–æ—Å–æ–±–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –¥–æ–º–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –¥–∞–Ω–Ω—ã—Ö.

–ù–∞—á–∏–Ω–∞–µ–º —Å —Å–æ–∑–¥–∞–Ω–∏—è –µ–Ω—Ç–∏—Ç–µ–π
–ø–æ—Ç–æ–º –∑–∞–∫–∏–¥—É–µ–º –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
—Å —ç—Ç–∏–º–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—è–º–∏ –¥–µ–ª–∞–µ–º –∫–∞–∫—É—é-—Ç–æ –±–∏–∑–Ω–µ—Å—Å –ª–æ–≥–∏–∫—É
–µ–µ –æ—Ç—Ä–ø–∞–≤–ª—è–µ–º –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–¥–æ–º–µ–Ω –∑–Ω–∞–µ—Ç –æ–± –∏–≤–µ–Ω—Ç–µ, –∞ –∏–≤–µ–Ω—Ç –æ–± –¥–æ–º–µ–Ω–µ - –Ω–µ—Ç, —Ç.–µ.
–≤ –º–µ—Ç–æ–¥–∞—Ö –µ–Ω—Ç–∏—Ç—Ç–µ–π(–¥–æ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—Å—Ç—å) –≤—ã—Å–∏—Ä–∞—Ç—å –∏–≤–µ–Ω—Ç—ã,
–∞ –ø–æ—Ç–æ–º –≤ –ª–æ–≥–∏–∫–µ(—Å–µ—Ä–≤–∏—Å–∞—Ö) –∏—Ö –ª–æ–≤–∏—Ç—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å.

—á—Ç–æ —Ç–∞–∫–æ–µ –µ–Ω—Ç–∏—Ç–∏ –∏ –∫–∞–∫ –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ—Å–≤—è–∑–∞–Ω—ã —Å –¥–æ–º–µ–Ω–æ–º?
–∫–∞–∫ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–º–µ–Ω —Ü–µ—Ç—Ä–∞–ª—å–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é –∏ –æ–Ω –Ω–µ –∑–Ω–∞–µ—Ç –Ω–∏ –æ —á–µ–º,
–∞ –∏–≤–µ–Ω—Ç–∞ –Ω–∞–∫–∞–ø—Ä–∏–≤–∞—Ç—å –≤ use –∫–µ–π—Å–µ... —á—Ç–æ —Ç–∞–∫–æ–µ —é–∑ –∫–µ–π—Å?

[–û—Ç–≤–µ—Ç –≤ –ø–æ —Å—Å—ã–ª–∫–µ](./imgs_expl/ddd_entities_usecases.md)


## –ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è Value Objects –æ—Ç –°—É—â–Ω–æ—Å—Ç–µ–π?
–û—Å–Ω–æ–≤–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É **–°—É—â–Ω–æ—Å—Ç—è–º–∏ (Entities)** –∏ **–û–±—ä–µ–∫—Ç–∞–º–∏-–∑–Ω–∞—á–µ–Ω–∏—è–º–∏ (Value Objects)** –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∏—Ö –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏ –∏ –∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç–∏:

- **–°—É—â–Ω–æ—Å—Ç–∏ (Entities):**
  - **–ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å:** –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `id`). –î–∞–∂–µ –µ—Å–ª–∏ –¥–≤–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞, –æ–Ω–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è —Ä–∞–∑–Ω—ã–º–∏, –µ—Å–ª–∏ –∏—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è.
  - **–ò–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å:** –°—É—â–Ω–æ—Å—Ç–∏ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å —Å–≤–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ —Ç–µ—á–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞.

  *–ü—Ä–∏–º–µ—Ä:* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (`User`) —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º `ID`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å —Å–≤–æ—ë –∏–º—è –∏–ª–∏ email.

- **–û–±—ä–µ–∫—Ç—ã-–∑–Ω–∞—á–µ–Ω–∏—è (Value Objects):**
  - **–ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å:** –ù–µ –∏–º–µ—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞. –î–≤–∞ –æ–±—ä–µ–∫—Ç–∞-–∑–Ω–∞—á–µ–Ω–∏—è —Å—á–∏—Ç–∞—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏, –µ—Å–ª–∏ –∏—Ö —Å–≤–æ–π—Å—Ç–≤–∞ —Å–æ–≤–ø–∞–¥–∞—é—Ç.
  - **–ù–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å:** –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç.

  *–ü—Ä–∏–º–µ—Ä:* `Address` —Å –ø–æ–ª—è–º–∏ `street`, `city`, `zipcode`. –î–≤–∞ –∞–¥—Ä–µ—Å–∞ —Å—á–∏—Ç–∞—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏, –µ—Å–ª–∏ –≤—Å–µ –∏—Ö –ø–æ–ª—è —Å–æ–≤–ø–∞–¥–∞—é—Ç.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Å—É—â–Ω–æ—Å—Ç–∏ –≤–∞–∂–Ω—ã —Å–≤–æ–µ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å—é, –∞ –æ–±—ä–µ–∫—Ç—ã-–∑–Ω–∞—á–µ–Ω–∏—è ‚Äî –Ω–∞–±–æ—Ä–æ–º —Å–≤–æ–∏—Ö —Å–≤–æ–π—Å—Ç–≤.
   
### –ó–∞—á–µ–º —Ç–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

–≠—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç, –¥–æ–±–∞–≤–ª—è—è –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –Ω–µ –Ω–∞—Ä—É—à–∞—è –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π –ª–æ–≥–∏–∫–∏ ‚Äî –¥–æ–º–µ–Ω–Ω–∞—è, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è, –±–∏–∑–Ω–µ—Å–æ–≤–∞—è –∏ –ø—Ä–∏–∫–ª–∞–¥–Ω–∞—è ‚Äî –¥–µ–ª–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–∏–±–∫–∏–º –∏ —É–¥–æ–±–Ω—ã–º –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ. –ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ—é –∑–∞–¥–∞—á—É –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –¥—Ä—É–≥–∏—Ö, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–Ω–µ—Å–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.


----
# –ö–æ–º–∞–Ω–¥–∞ - –ü—Ä–∏—á–∏–Ω–∞, –ò–≤–µ–Ω—Ç - –°–ª–µ–¥—Å—Ç–≤–∏–µ

1. **–ö–æ–º–∞–Ω–¥–∞ ‚Äî —ç—Ç–æ –ü—Ä–∏—á–∏–Ω–∞:**
   - –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è.
   - –≠—Ç–æ –∞–∫—Ç–∏–≤–Ω–æ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ —Å–æ–≤–µ—Ä—à–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
     - `CreateChatCommand` ‚Äî –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞.
     - `CreateMessageCommand` ‚Äî –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.

2. **–ò–≤–µ–Ω—Ç ‚Äî —ç—Ç–æ –°–ª–µ–¥—Å—Ç–≤–∏–µ:**
   - –ò–≤–µ–Ω—Ç —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ, –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–º–∞–Ω–¥–æ–π, –ø—Ä–æ–∏–∑–æ—à–ª–æ.
   - –≠—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ —Å–æ–±—ã—Ç–∏–µ —Å–æ—Å—Ç–æ—è–ª–æ—Å—å, –∏ —Å–∏–≥–Ω–∞–ª –¥–ª—è –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å.
     - `NewChatCreatedEvent` ‚Äî –∏–≤–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞.
     - `NewMessageReceivedEvent` ‚Äî –∏–≤–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:

- **–ö–æ–º–∞–Ω–¥–∞** –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å.
- **–ò–≤–µ–Ω—Ç** —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ–¥—É—é—â—É—é —Ä–µ–∞–∫—Ü–∏—é –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç—è—Ö —Å–∏—Å—Ç–µ–º—ã.

> –ö–æ–º–∞–Ω–¥–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∞ –∏–≤–µ–Ω—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ —ç—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–∏–∑–æ—à–ª–∏, –ø–æ–º–æ–≥–∞—è –¥—Ä—É–≥–∏–º —Å–∏—Å—Ç–µ–º–∞–º –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

---
# –ú–µ–¥–∏–∞—Ç–æ—Ä - –ü—Ä–∏–Ω—Ü–∏–ø –†–∞–±–æ—Ç—ã –∏ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –í—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –†–æ–ª—å –ú–µ–¥–∏–∞—Ç–æ—Ä–∞

–ú–µ–¥–∏–∞—Ç–æ—Ä —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –¥–ª—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è **–∫–æ–º–∞–Ω–¥** –∏ **—Å–æ–±—ã—Ç–∏–π** —Å –∏—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏. –ï–≥–æ –∑–∞–¥–∞—á–∞ ‚Äî —É–ø—Ä–∞–≤–ª—è—Ç—å –∏ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, —á—Ç–æ–±—ã –∫–æ–º–∞–Ω–¥—ã –∏ —Å–æ–±—ã—Ç–∏—è –º–æ–≥–ª–∏ –Ω–∞–π—Ç–∏ —Å–≤–æ–∏—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ –ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –Ω—É–∂–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è.

–ú–µ–¥–∏–∞—Ç–æ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–∞ –∫–∞—Ä—Ç:

- `events_map` ‚Äî —Å–ª–æ–≤–∞—Ä—å, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è —Å –∏—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏.
- `commands_map` ‚Äî —Å–ª–æ–≤–∞—Ä—å, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã —Å –∏—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ú–µ—Ç–æ–¥—ã –ú–µ–¥–∏–∞—Ç–æ—Ä–∞

1. **`register_event`** - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π.
2. **`register_command`** - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–æ–º–∞–Ω–¥.
3. **`publish_event`** - –ø—É–±–ª–∏–∫–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π.
4. **`handle_command`** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥.

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –í—ã–ø–æ–ª–Ω–µ–Ω–∏—è –†–∞–±–æ—Ç—ã –ú–µ–¥–∏–∞—Ç–æ—Ä–∞

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –û–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –°–æ–±—ã—Ç–∏–π –∏ –ö–æ–º–∞–Ω–¥**:
   - –ü–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –∏ –∫–æ–º–∞–Ω–¥—ã, –º–µ–¥–∏–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–æ–≤ `register_event` –∏ `register_command`.
   - –ù–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑—É—è `register_event`, –º–µ–¥–∏–∞—Ç–æ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ `events_map` –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–∏–ø–∞ —Å–æ–±—ã—Ç–∏–π, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –∑–Ω–∞—Ç—å, –∫—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É —ç—Ç–æ–≥–æ —Å–æ–±—ã—Ç–∏—è.

2. **–ü—É–±–ª–∏–∫–∞—Ü–∏—è –°–æ–±—ã—Ç–∏–π (`publish_event`)**:
   - –ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ), –æ–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –º–µ—Ç–æ–¥ `publish_event`.
   - –ú–µ–¥–∏–∞—Ç–æ—Ä –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ —Å–æ–±—ã—Ç–∏—è, –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –∏—Ö –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏.
   - –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –º–æ–∂–µ—Ç –±—ã—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ —Å–∏—Å—Ç–µ–º—É, —Ç–∞–∫—É—é –∫–∞–∫ **Kafka**, –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥—Ä—É–≥–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã.
   - –ï—Å–ª–∏ –Ω–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ —Å–æ–±—ã—Ç–∏—è, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `EventHandlersNotRegisteredException`.

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ö–æ–º–∞–Ω–¥ (`handle_command`)**:
   - –ö–æ–≥–¥–∞ –ø–æ—Å—Ç—É–ø–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞ –∏–ª–∏ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è), –æ–Ω–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –º–µ—Ç–æ–¥ `handle_command`.
   - –ú–µ–¥–∏–∞—Ç–æ—Ä –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã, –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –∏—Ö.
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–∞–∫–∂–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
   - –ï—Å–ª–∏ –Ω–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –∫–æ–º–∞–Ω–¥—ã, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `CommandHandlersNotRegisteredException`.

### –ü—Ä–∏–Ω—Ü–∏–ø –†–∞–±–æ—Ç—ã –ú–µ–¥–∏–∞—Ç–æ—Ä–∞

- **–ú–µ–¥–∏–∞—Ç–æ—Ä** —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É—é—â–∏–π —Ü–µ–Ω—Ç—Ä, –∫–æ—Ç–æ—Ä—ã–π –∑–Ω–∞–µ—Ç, –∫–∞–∫–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–≤—è–∑–∞–Ω—ã —Å –∫–∞–∫–∏–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ —Å–æ–±—ã—Ç–∏—è–º–∏. 
- –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

  1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–±—ã—Ç–∏–π —Å–Ω–∞—á–∞–ª–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤ –º–µ–¥–∏–∞—Ç–æ—Ä–µ. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º–µ–¥–∏–∞—Ç–æ—Ä –∑–Ω–∞–µ—Ç, –∫ –∫–∞–∫–∏–º —Å–æ–±—ã—Ç–∏—è–º –∏ –∫–æ–º–∞–Ω–¥–∞–º –ø—Ä–∏–≤—è–∑–∞–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏.
  2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ö–æ–º–∞–Ω–¥**: –ö–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—É, –º–µ–¥–∏–∞—Ç–æ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `CreateChatCommand`, –º–µ–¥–∏–∞—Ç–æ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç `CreateChatCommandHandler`.
  3. **–ü—É–±–ª–∏–∫–∞—Ü–∏—è –°–æ–±—ã—Ç–∏–π**: –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å. –ú–µ–¥–∏–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç —ç—Ç–∏ —Å–æ–±—ã—Ç–∏—è –∏ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–±—ã—Ç–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö —Å–∏—Å—Ç–µ–º.

### –ü—Ä–∏–º–µ—Ä –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –í—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. **–ö–ª–∏–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É** `CreateChatCommand` —á–µ—Ä–µ–∑ API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞.
2. **–ú–µ–¥–∏–∞—Ç–æ—Ä** –≤—ã–∑—ã–≤–∞–µ—Ç `handle_command` –∏ –Ω–∞—Ö–æ–¥–∏—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã (`CreateChatCommandHandler`), –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —á–∞—Ç.
3. **–°–æ–∑–¥–∞–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ** `NewChatCreatedEvent` –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Ç–∞.
4. **–ú–µ–¥–∏–∞—Ç–æ—Ä** –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `publish_event`, –≤—ã–∑—ã–≤–∞—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Kafka, –∫–æ—Ç–æ—Ä–∞—è —É–≤–µ–¥–æ–º–ª—è–µ—Ç –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã).

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, **–º–µ–¥–∏–∞—Ç–æ—Ä** –∏–≥—Ä–∞–µ—Ç —Ä–æ–ª—å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–≤—è–∑—å –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Å–æ–±—ã—Ç–∏—è–º–∏ –∏ –∫–æ–º–∞–Ω–¥–∞–º–∏, –¥–µ–ª–∞—è —Å–∏—Å—Ç–µ–º—É –±–æ–ª–µ–µ –≥–∏–±–∫–æ–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π.


---


# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –∫ –®–∞–≥–∞–º –í—ã–∑–æ–≤–∞

–í —ç—Ç–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –≤ —Ä–∞–º–∫–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è **–º–µ–¥–∏–∞—Ç–æ—Ä–∞**, **–∫–æ–º–∞–Ω–¥**, –∏ **–∏–≤–µ–Ω—Ç–æ–≤**. 

```plaintext
app/
‚îÇ
‚îú‚îÄ‚îÄ application/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dependencies/  # –ú–æ–¥—É–ª–∏ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –≤ API (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ç.–¥.)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ messages/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ handlers.py  # Handlers –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ API –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–æ–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π.
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ schema.py    # –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Å—Ç—É–ø–∞—é—Ç –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, pydantic-—Å—Ö–µ–º—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏).
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ main.py      # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç API FastAPI, –≤–∫–ª—é—á–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é —Ä–æ—É—Ç–æ–≤.
‚îÇ
‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îú‚îÄ‚îÄ entities/            # –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Chat`, `Message`), –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É.
‚îÇ   ‚îú‚îÄ‚îÄ events/              # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–≤–µ–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `NewChatCreatedEvent`).
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py          # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –∏–≤–µ–Ω—Ç–æ–≤.
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ messages.py      # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–≤–µ–Ω—Ç–æ–≤, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `NewMessageReceivedEvent`).
‚îÇ   ‚îú‚îÄ‚îÄ exceptions/          # –ò—Å–∫–ª—é—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–±—Ä–æ—à–µ–Ω—ã –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–æ–∫.
‚îÇ   ‚îî‚îÄ‚îÄ values/              # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∑–Ω–∞—á–µ–Ω–∏–π, —Ç–∞–∫–∏–µ –∫–∞–∫ `Title`, `Text`.
‚îÇ
‚îú‚îÄ‚îÄ infra/
‚îÇ   ‚îú‚îÄ‚îÄ repositories/        # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Memory`, `Mongo`).
‚îÇ
‚îú‚îÄ‚îÄ logic/
‚îÇ   ‚îú‚îÄ‚îÄ commands/            # –ö–æ–º–∞–Ω–¥—ã –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –¥–µ–π—Å—Ç–≤–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ.
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py          # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥.
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ messages.py      # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `CreateChatCommand`).
‚îÇ   ‚îú‚îÄ‚îÄ events/              # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–≤–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∏–≤–µ–Ω—Ç–∞.
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py          # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏–≤–µ–Ω—Ç–æ–≤.
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ messages.py      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–≤–µ–Ω—Ç–æ–≤, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `NewMessageReceivedHandler`).
‚îÇ   ‚îî‚îÄ‚îÄ exceptions/          # –ò—Å–∫–ª—é—á–µ–Ω–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ª–æ–≥–∏–∫–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—à–∏–±–∫–∏ –º–µ–¥–∏–∞—Ç–æ—Ä–∞).
‚îÇ       ‚îú‚îÄ‚îÄ base.py          # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π.
‚îÇ       ‚îú‚îÄ‚îÄ mediator.py      # –ò—Å–∫–ª—é—á–µ–Ω–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –º–µ–¥–∏–∞—Ç–æ—Ä–æ–º.
‚îÇ       ‚îî‚îÄ‚îÄ messages.py      # –ò—Å–∫–ª—é—á–µ–Ω–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ª–æ–≥–∏–∫–æ–π —Å–æ–æ–±—â–µ–Ω–∏–π.
‚îÇ
‚îú‚îÄ‚îÄ settings/                # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤–∫–ª—é—á–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Kafka, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ—á–µ–µ.
‚îú‚îÄ‚îÄ tests/                   # –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫ —Ä–∞–±–æ—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
‚îî‚îÄ‚îÄ docker_compose/          # Docker Compose —Ñ–∞–π–ª—ã –¥–ª—è –ø–æ–¥–Ω—è—Ç–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (Kafka, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Ç.–¥.)
```

## –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –í—ã–∑–æ–≤–∞ (–†–∞–±–æ—á–∏–π –ö–µ–πc)

1. **–ö–ª–∏–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–∞ —á–µ—Ä–µ–∑ API** (`POST /api/messages/create_chat`):
    - –ú–æ–¥—É–ª—å `main.py` –≤ **`application/api/messages`** –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ API –∏–∑ **`handlers.py`**.
    - **`handlers.py`** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ö–µ–º—ã –∏–∑ **`schema.py`** –∏ —Å–æ–∑–¥–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É `CreateChatCommand`.

2. **–ö–æ–º–∞–Ω–¥–∞ `CreateChatCommand` –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –º–µ–¥–∏–∞—Ç–æ—Ä—É**:
    - **`handlers.py`** –ø–µ—Ä–µ–¥–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –≤ –º–µ–¥–∏–∞—Ç–æ—Ä (–∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ **`dependencies/`**).
    - –í –º–µ–¥–∏–∞—Ç–æ—Ä–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ `handle_command` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥—ã.

3. **–ú–µ–¥–∏–∞—Ç–æ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã** (`CreateChatCommandHandler`):
    - –ú–µ–¥–∏–∞—Ç–æ—Ä –≤ **`logic/commands`** –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑ **`CreateChatCommandHandler`** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã.
    - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã (`CreateChatCommandHandler`) —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —á–∞—Ç–∞ (`Chat`) –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–æ–π –≤ **`domain/entities`**.

4. **–°–æ–±—ã—Ç–∏–µ `NewChatCreatedEvent` —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –º–µ–¥–∏–∞—Ç–æ—Ä**:
    - –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Ç–∞, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–≤–µ–Ω—Ç (`NewChatCreatedEvent`), –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ –∏–≤–µ–Ω—Ç–æ–≤ –æ–±—ä–µ–∫—Ç–∞ —á–∞—Ç–∞.
    - –ú–µ–¥–∏–∞—Ç–æ—Ä —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `publish_event` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∏–≤–µ–Ω—Ç—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º —á–∞—Ç–∞, –Ω–∞—Ö–æ–¥—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏–≤–µ–Ω—Ç–æ–≤.

5. **–ü—É–±–ª–∏–∫–∞—Ü–∏—è –∏–≤–µ–Ω—Ç–∞ –≤ Kafka**:
    - –í —Å–ª—É—á–∞–µ —Å–æ–±—ã—Ç–∏—è `NewChatCreatedEvent`, –º–µ–¥–∏–∞—Ç–æ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ `handle` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏–≤–µ–Ω—Ç–æ–≤ (`EventHandler`).
    - –≠—Ç–æ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ **Kafka** (–∏–ª–∏ –¥—Ä—É–≥–æ–π –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π) –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –∏–ª–∏ —á–∞—Å—Ç–µ–π —Å–∏—Å—Ç–µ–º—ã –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞.

## –®–∞–≥–∏ –í—ã–∑–æ–≤–∞ –≤ –ö–æ–Ω—Ç–µ–∫—Å—Ç–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 1. API (application/api/messages/main.py)
–ü–æ–ª—É—á–∞–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç **handlers.py**.

### 2. Handlers (application/api/messages/handlers.py)
–°–æ–∑–¥–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –µ–µ –≤ **–º–µ–¥–∏–∞—Ç–æ—Ä** –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.

–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è `create_chat_handler`:

```python
@router.post(
    '/',
    response_model=CreateChatResponseSchema,
    status_code=status.HTTP_201_CREATED,
    description="Endpoint - Creating a new chat. If such chat by title already exists, return 400",
    responses={
        status.HTTP_201_CREATED: {"model": CreateChatResponseSchema},
        status.HTTP_400_BAD_REQUEST: {"model": ErrorSchema},
    }
)
async def create_chat_handler(schema: CreateChatRequestSchema, container=Depends(init_container)) -> CreateChatResponseSchema:
    mediator: Mediator = container.resolve(Mediator)

    try:
        chat, *_ = await mediator.handle_command(CreateChatCommand(title=schema.title))
    except ApplicationException as exception:
        raise HTTPException(status_code=status.HTTP_400_BAD_REQUEST, detail={"error": exception.message})
    return CreateChatResponseSchema.from_entity(chat)
```

### 3. Mediator (infra/logic/mediator.py)
–ú–µ—Ç–æ–¥ `handle_command` –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã.

–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –º–µ–¥–∏–∞—Ç–æ—Ä–∞:

```python
async def handle_command(self, command: BaseCommand) -> Iterable[CR]:
    command_type = command.__class__
    handlers = self.commands_map.get(command_type)

    if not handlers:
        raise CommandHandlersNotRegisteredException(command_type)
    return [await handler.handle(command) for handler in handlers]
```

### 4. Command Handler (logic/commands/messages.py)
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É (`CreateChatCommand`) –∏ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —á–∞—Ç.

–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è `CreateChatCommandHandler`:

```python
@dataclass(frozen=True)
class CreateChatCommandHandler(CommandHandler[CreateChatCommand, Chat]):
    chats_repository: BaseChatsRepository

    async def handle(self, command: CreateChatCommand) -> Chat:
        if await self.chats_repository.check_chat_exists_by_title(command.title):
            raise ChatWithThatTitleAlreadyExitsException(command.title)

        title = Title(value=command.title)
        new_chat = Chat.create_chat(title=title)
        self.chats_repository.add_chat(new_chat)

        return new_chat
```

## –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ –†–∞–±–æ—á–∏–º –ö–µ–π—Å–∞–º

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –û–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**: –í –Ω–∞—á–∞–ª–µ —Ä–∞–±–æ—Ç—ã –º–µ–¥–∏–∞—Ç–æ—Ä —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –∏–≤–µ–Ω—Ç–æ–≤, —á—Ç–æ–±—ã –ø–æ–∑–∂–µ –º–æ–∂–Ω–æ –±—ã–ª–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ—Å—Ç—É–ø–∞—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –∏ —Å–æ–±—ã—Ç–∏—è.

2. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –û–±—Ä–∞–±–æ—Ç–∫–∞**: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –∏–≤–µ–Ω—Ç–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∏–≤–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ Kafka) –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.

3. **–î–æ–º–µ–Ω–Ω–∞—è –õ–æ–≥–∏–∫–∞**: –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–∞ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è) –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–æ–º–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `domain/entities`. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ **DDD** (Domain-Driven Design).

4. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –ü–∞–ø–∫–∞ `infra` –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, Kafka, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö) –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –∏–≤–µ–Ω—Ç–æ–≤.

–≠—Ç–æ—Ç —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –∫–∞–∫ –º–æ–∂–Ω–æ —Å–≤—è–∑–∞—Ç—å API, –¥–æ–º–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –∏–≤–µ–Ω—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é –º–µ–¥–∏–∞—Ç–æ—Ä–∞ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —á–µ—Ç–∫–æ–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---
1. –µ—Å—Ç—å –∏–≤–µ–Ω—Ç - —Å–æ–±—ã—Ç–∏–µ
2. –µ—Å—Ç—å –æ–±—Ä–∞–±–æ–∏—á–∏–∫ —ç—Ç–æ–≥–æ —Å–æ–±—ã—Ç–∏—è(–ê–ü–ò)
3. –∞ –µ—Å—Ç—å –∫–æ–º–∞–Ω–¥—ã(POST), —á—Ç–æ –± –∏–∑–º–µ–Ω–∏—Ç—å —á—Ç–æ-—Ç–æ –≤ —Å–∏—Å—Ç–µ–º–µ(—á–µ—Ä–µ–∑ –ê–ü–ò —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã - —Å–æ–∑–¥–∞—Ç—å —á–∞—Ç, –¥–æ–±–∞–≤–∏—Ç—å –º—Å–¥–∂ –≤ —á–∞—Ç). –ù–æ—Ä–º–∞–ª—å–Ω–∞—è –ö–û–ú–ê–ù–î–ê - –ì–ï–ù–ï–†–ò–†–ò–£–ï–¢ –°–ê–ô–î –ï–§–§–ï–ö–¢
4. –∞ –ö–í–ï–†–ò(—Ç–æ–ª—å–∫–æ GET –¥–∞–Ω–Ω—ã—Ö) - –ø–æ–ª—É—á–∏—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞. –ù–æ—Ä–º–∞–ª—å–Ω–∞—è –ö–í–ï–†–Ø - –ù–ï –ì–ï–ù–ï–†–ò–†–ò–£–ï–¢ –°–ê–ô–î –ï–§–§–ï–ö–¢